# Landing Page Assets

This directory contains all static visual assets for the LEAN_mnist project landing page.

**Last Updated:** November 21, 2025
**Generated by:** Agent 2 (Asset Preparation)

---

## Asset Inventory

### 1. MNIST ASCII Rendering Example
**Files:**
- `mnist-ascii-clean.txt` - Clean ASCII art output (no build warnings)
- `mnist-ascii.txt` - Raw output from renderMNIST executable

**Source:** Generated using `lake exe renderMNIST --count 5 --border double`

**Content:** 5 sample MNIST digits (7, 2, 1, 0, 4) rendered as ASCII art using the double-border style.

**Purpose:** Hero section - demonstrates the project's visualization capability

**How to Regenerate:**
```bash
cd /Users/eric/LEAN_mnist
lake exe renderMNIST --count 5 --border double > docs/assets/mnist-ascii-clean.txt
```

---

### 2. Network Architecture Diagram
**File:** `architecture.svg`

**Content:** Visual diagram of the 784→128→10 MLP architecture showing:
- Input layer (784 neurons, representing 28×28 MNIST images)
- Hidden layer (128 neurons with ReLU activation)
- Output layer (10 neurons with Softmax for digit classification)
- Weight matrices and bias vectors with dimensions
- Gradient flow arrows (backpropagation direction)
- Total parameter count: 101,770

**Purpose:** Hero section - visual overview of network architecture

**Technical Details:**
- Hand-crafted SVG (no external dependencies)
- Color scheme: Blue (input), Orange (hidden), Purple (output), Red (forward pass), Green (backprop)
- Dimensions shown: W₁[128,784], b₁[128], W₂[10,128], b₂[10]
- Responsive design (800×500px, scales cleanly)

**How to Regenerate:**
Edit the SVG file directly in a text editor or vector graphics tool. Key coordinates:
- Input layer: x=50
- Hidden layer: x=260
- Output layer: x=470
- Loss box: x=630

---

### 3. Training Curve Chart
**Files:**
- `training-curve.svg` - Visual chart
- `training-data.csv` - Raw data used to generate the chart

**Source:** Extracted from `logs/training_full_232176456.log` (successful 50-epoch training run)

**Content:** Test accuracy vs. epoch for full 60K sample training:
- X-axis: Epochs 0-50
- Y-axis: Test Accuracy (0-100%)
- Final accuracy: 93.2% (epoch 50)
- Best model: 93.0% (epoch 49, saved as checkpoint)

**Purpose:** Show convergence behavior to formal methods audience

**Technical Details:**
- Hand-crafted SVG with embedded data points
- Clean grid layout (10% intervals on Y-axis, 10 epochs on X-axis)
- Highlighted final data point (red circle)
- Annotation box showing final accuracy
- Stats box: 60K samples, 3.3 hours training time

**How to Regenerate:**
1. Extract test accuracy data from training logs:
```bash
grep -E "Test accuracy:" logs/training_full_*.log > accuracy.txt
```

2. Update `training-data.csv` with new values

3. Regenerate SVG by editing coordinates in `training-curve.svg`:
   - X coordinate: `80 + (epoch * 13)`
   - Y coordinate: `420 - (accuracy * 3.6)`

---

### 4. Code Snippet (Manual Backpropagation)
**File:** `manual-backprop-code.txt`

**Source:** Extracted from `VerifiedNN/Network/ManualGradient.lean` (lines 210-258)

**Content:** Core `networkGradientManual` function showing:
- Forward pass with activation caching (z1, h1, z2)
- Backward pass with explicit chain rule application
- Gradient computation for each layer (dW1, db1, dW2, db2)
- Comments explaining each step

**Purpose:** Hero section - demonstrate computable gradient implementation

**Key Highlights:**
- Shows the manual backpropagation workaround for noncomputable SciLean AD
- Illustrates dependent type usage (Vector dimensions)
- Demonstrates chain rule application in Lean 4
- Total: 63 lines (including comments)

**How to Regenerate:**
```bash
# Extract lines 210-258 from ManualGradient.lean
sed -n '210,258p' VerifiedNN/Network/ManualGradient.lean > docs/assets/manual-backprop-code.txt

# Or use the full function with context (lines 136-258):
sed -n '136,258p' VerifiedNN/Network/ManualGradient.lean > docs/assets/manual-backprop-code-full.txt
```

---

### 5. Additional Assets (Optional)

**Badges/Icons (if needed):**
- Lean 4 version: v4.23.0
- Build status: ✅ All 59 files compile
- Lines of code: ~3,500
- Test accuracy: 93.2%

**Suggested Badge Creation:**
Use [shields.io](https://shields.io/) for dynamic badges:
```markdown
![Lean 4](https://img.shields.io/badge/Lean-v4.23.0-blue)
![Build](https://img.shields.io/badge/build-passing-brightgreen)
![Accuracy](https://img.shields.io/badge/accuracy-93.2%25-success)
![Lines of Code](https://img.shields.io/badge/lines-3.5K-informational)
```

---

## File Size Summary

| File | Size | Format | Purpose |
|------|------|--------|---------|
| `mnist-ascii-clean.txt` | ~5 KB | Text | Hero visual #1 |
| `architecture.svg` | ~7 KB | SVG | Hero visual #2 |
| `manual-backprop-code.txt` | ~3 KB | Text | Hero visual #3 |
| `training-curve.svg` | ~9 KB | SVG | Convergence proof |
| `training-data.csv` | ~0.5 KB | CSV | Chart data source |

**Total:** ~25 KB (all assets combined, highly optimized)

---

## Quality Standards

All assets meet the following criteria:

✅ **Static only** - No animations, no JavaScript
✅ **Optimized** - All files < 10 KB each
✅ **Professional** - Clean design, consistent style
✅ **Accessible** - High contrast, readable at various sizes
✅ **Responsive** - SVGs scale cleanly to different screen sizes
✅ **Self-contained** - No external dependencies or font loading

---

## Color Palette

Consistent color scheme across all assets (matches ChebyshevCircles aesthetic):

| Color | Hex | Usage |
|-------|-----|-------|
| Dark Blue | `#2c3e50` | Headers, primary text |
| Medium Gray | `#34495e` | Secondary text, borders |
| Light Gray | `#ecf0f1` | Backgrounds |
| Blue | `#3498db` | Input layer, data line |
| Orange | `#e67e22` | Hidden layer, ReLU |
| Purple | `#9b59b6` | Output layer, Softmax |
| Red | `#e74c3c` | Forward pass arrows, loss |
| Green | `#27ae60` | Backpropagation, success |

---

## Dependencies & Tools

**Required for regeneration:**
- Lean 4 (v4.23.0) with project built
- Lake build system
- MNIST dataset downloaded (`scripts/download_mnist.sh`)
- Training logs in `logs/` directory

**No external tools needed** - All assets are either:
- Text files (generated from executables)
- Hand-crafted SVGs (edit with any text editor)
- CSV data (extracted from logs)

**Optional tools:**
- Vector graphics editor (Inkscape, Figma) for visual SVG editing
- Text editor with syntax highlighting for code snippets

---

## Licensing & Attribution

**Source Code:**
All code snippets extracted from the LEAN_mnist project are subject to the project's license (see repository root).

**Generated Assets:**
ASCII art, diagrams, and charts are generated specifically for this landing page and may be reused under the same license as the project.

**External Resources:**
None - all assets are self-contained and created specifically for this project.

---

## Integration Notes

**For HTML/CSS Integration:**

1. **ASCII Art Display:**
```html
<pre class="ascii-art">
  <!-- Content of mnist-ascii-clean.txt -->
</pre>
```

2. **SVG Embedding:**
```html
<!-- Inline for best performance -->
<div class="architecture-diagram">
  <!-- Paste architecture.svg content here -->
</div>

<!-- Or use img tag -->
<img src="assets/architecture.svg" alt="MLP Architecture" width="800">
```

3. **Code Snippet:**
```html
<pre><code class="language-lean">
  <!-- Content of manual-backprop-code.txt -->
</code></pre>
```

4. **Responsive Sizing:**
```css
.ascii-art { font-family: monospace; font-size: clamp(8px, 1vw, 12px); }
.architecture-diagram svg { width: 100%; height: auto; max-width: 800px; }
.training-curve svg { width: 100%; height: auto; max-width: 800px; }
```

---

## Future Enhancements

**Potential additions:**
- Interactive SVG (hover effects showing parameter counts)
- Dark mode variants of diagrams
- Animated training curve (CSS-only, no JavaScript)
- Additional code snippets (ReLU backward, loss gradient)
- Comparison diagram (PyTorch vs. Lean 4 implementation)

**Not included (per requirements):**
- GIF animations
- Video demonstrations
- JavaScript-based interactivity
- External font dependencies
- Large image files (all kept < 500KB)

---

## Troubleshooting

**Problem:** ASCII art doesn't render correctly
**Solution:** Ensure monospace font and proper line height in CSS

**Problem:** SVG doesn't scale properly
**Solution:** Add `width: 100%; height: auto;` CSS rules

**Problem:** Code snippet has formatting issues
**Solution:** Use `<pre>` tag with `white-space: pre;` CSS

**Problem:** Colors don't match across assets
**Solution:** Refer to color palette table above, update hex values

**Problem:** Need to regenerate training curve with new data
**Solution:** Update `training-data.csv`, then recalculate SVG coordinates using formulas above

---

## Contact & Maintenance

For questions about asset regeneration or updates:
1. Check this README first
2. Review source files referenced in each section
3. Test regeneration commands in a clean environment
4. Validate SVG output in multiple browsers

**Maintenance Schedule:**
- Update training curve if new best model achieved
- Regenerate ASCII art if renderer improvements made
- Update architecture diagram if network structure changes
- Refresh code snippets if implementation refactored

---

**End of Asset Documentation**
